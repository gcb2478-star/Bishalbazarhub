<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Word Scramble Game</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #89f7fe, #66a6ff);
      margin: 0;
      padding: 0;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    h1 {
      background: linear-gradient(to right, #4CAF50, #2e7d32);
      color: white;
      padding: 15px;
      margin: 0 0 20px 0;
      border-radius: 10px 10px 0 0;
      font-size: 26px;
    }
    .game {
      width: 95%;
      max-width: 550px;
      background: #ffffffdd;
      padding: 25px;
      border-radius: 20px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      backdrop-filter: blur(8px);
      animation: fadeIn 1s ease-in-out;
      position: relative;
      z-index: 2;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
    #scrambledWord {
      font-size: 32px;
      font-weight: bold;
      margin: 20px 0;
      color: #222;
      letter-spacing: 3px;
    }
    input {
      padding: 14px;
      width: 90%;
      max-width: 350px;
      margin: 15px 0;
      font-size: 16px;
      border-radius: 10px;
      border: 2px solid #4CAF50;
      text-align: center;
      transition: 0.3s;
    }
    input:focus {
      border-color: #2196F3;
      outline: none;
      box-shadow: 0 0 8px rgba(33,150,243,0.5);
    }
    button {
      padding: 12px 20px;
      margin: 10px;
      font-size: 16px;
      cursor: pointer;
      border: none;
      border-radius: 12px;
      background: linear-gradient(135deg, #4CAF50, #66bb6a);
      color: white;
      transition: transform 0.2s ease, background 0.3s;
    }
    button:hover {
      background: linear-gradient(135deg, #388e3c, #2e7d32);
      transform: scale(1.05);
    }
    #result {
      margin-top: 15px;
      font-size: 18px;
      font-weight: bold;
    }
    #scoreboard {
      margin-top: 20px;
      font-size: 18px;
    }
    #timer {
      font-size: 22px;
      margin: 15px 0;
      color: #ff5722;
      font-weight: bold;
    }
    #playAgain {
      display: none;
      margin-top: 20px;
      background: linear-gradient(135deg, #2196F3, #42a5f5);
    }
    #playAgain:hover {
      background: linear-gradient(135deg, #1976D2, #1565c0);
    }
    #level {
      font-size: 20px;
      margin: 15px 0;
      font-weight: bold;
      color: #6a1b9a;
    }
    canvas#confettiCanvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }
    @media (max-width: 600px) {
      #scrambledWord { font-size: 26px; }
      h1 { font-size: 22px; }
      button { font-size: 14px; padding: 10px 15px; }
      input { font-size: 14px; }
    }
  </style>
</head>
<body>
  <canvas id="confettiCanvas"></canvas>

  <div class="game">
    <h1>AI Word Scramble</h1>
    <p id="level">üéÆ Level: 1</p>
    <p id="scrambledWord"></p>
    <p id="timer">‚è≥ Time: 30</p>
    <input type="text" id="userInput" placeholder="Type your guess here">
    <br>
    <button id="checkBtn" onclick="checkAnswer()">Check</button>
    <button id="newBtn" onclick="newWord()">New Word</button>
    <button id="playAgain" onclick="restartGame()">Play Again</button>
    <p id="result"></p>
    <div id="scoreboard">
      ‚úÖ Streak: <span id="streak">0</span>/3
    </div>
  </div>

  <!-- Background music + sound effects -->
  <audio id="bgMusic" src="https://www.bensound.com/bensound-music/bensound-energy.mp3" loop></audio>
  <audio id="correctSound" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="wrongSound" src="https://actions.google.com/sounds/v1/cartoon/wood_plank_flicks.ogg"></audio>
  <audio id="winSound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>

  <script>
    const levelWords = {
      1: ["cat", "dog", "sun", "pen", "cup"],
      2: ["apple", "house", "green", "happy", "smart"],
      3: ["school", "planet", "coding", "puzzle", "winter"],
      4: ["programming", "elephant", "universe", "learning", "holiday"],
      5: ["javascript", "developer", "adventure", "discovery", "keyboard"],
      6: ["extraordinary", "encyclopedia", "responsibility", "architecture", "imagination"]
    };
    const levelTime = { 1:30, 2:25, 3:20, 4:18, 5:15, 6:12 };

    let currentWord="", scrambled="", streak=0, timer, timeLeft=30, level=1;
    const bgMusic=document.getElementById("bgMusic");
    const correctSound=document.getElementById("correctSound");
    const wrongSound=document.getElementById("wrongSound");
    const winSound=document.getElementById("winSound");

    function scrambleWord(word){
      let arr=word.split("");
      for(let i=arr.length-1;i>0;i--){
        const j=Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
      return arr.join("");
    }
    function newWord(){
      const words=levelWords[level];
      currentWord=words[Math.floor(Math.random()*words.length)];
      scrambled=scrambleWord(currentWord);
      while(scrambled===currentWord){scrambled=scrambleWord(currentWord);}
      document.getElementById("scrambledWord").textContent=scrambled;
      document.getElementById("result").textContent="";
      document.getElementById("userInput").value="";
      resetTimer();
    }
    function checkAnswer(){
      const guess=document.getElementById("userInput").value.trim().toLowerCase();
      if(guess===currentWord){
        streak++; correctSound.play();
        document.getElementById("result").textContent="‚úÖ Correct! The word was "+currentWord;
        document.getElementById("result").style.color="green";
        document.getElementById("streak").textContent=streak;
        if(streak>=3){
          winSound.play();
          document.getElementById("result").textContent="üéâ LEVEL "+level+" COMPLETE!";
          nextLevel(); return;
        }
        newWord();
      } else {
        wrongSound.play();
        document.getElementById("result").textContent="‚ùå Wrong! The correct word was "+currentWord;
        document.getElementById("result").style.color="red";
        streak=0;
        document.getElementById("streak").textContent=streak;
        newWord();
      }
    }
    function resetTimer(){
      clearInterval(timer);
      timeLeft=levelTime[level];
      document.getElementById("timer").textContent="‚è≥ Time: "+timeLeft;
      timer=setInterval(()=>{
        timeLeft--;
        document.getElementById("timer").textContent="‚è≥ Time: "+timeLeft;
        if(timeLeft<=0){
          clearInterval(timer); wrongSound.play();
          document.getElementById("result").textContent="‚è∞ Time's up! The word was "+currentWord;
          document.getElementById("result").style.color="red";
          streak=0;
          document.getElementById("streak").textContent=streak;
          newWord();
        }
      },1000);
    }
    function nextLevel(){
      clearInterval(timer);
      if(level<6){
        level++; streak=0;
        document.getElementById("streak").textContent=streak;
        document.getElementById("level").textContent="üéÆ Level: "+level;
        newWord();
      } else {
        document.getElementById("scrambledWord").textContent="";
        document.getElementById("timer").textContent="";
        document.getElementById("userInput").style.display="none";
        document.getElementById("checkBtn").style.display="none";
        document.getElementById("newBtn").style.display="none";
        document.getElementById("playAgain").style.display="inline-block";
        document.getElementById("result").textContent="üèÜ YOU BEAT ALL LEVELS!";
        startConfetti();
      }
    }
    function restartGame(){
      level=1; streak=0;
      document.getElementById("streak").textContent=streak;
      document.getElementById("level").textContent="üéÆ Level: "+level;
      document.getElementById("userInput").style.display="inline-block";
      document.getElementById("checkBtn").style.display="inline-block";
      document.getElementById("newBtn").style.display="inline-block";
      document.getElementById("playAgain").style.display="none";
      stopConfetti();
      newWord();
    }
    window.onload=()=>{
      bgMusic.play().catch(()=>{});
      newWord();
    };

    // üéä Confetti animation
    const confettiCanvas=document.getElementById("confettiCanvas");
    const ctx=confettiCanvas.getContext("2d");
    let confettiParticles=[], confettiActive=false;

    function resizeCanvas(){
      confettiCanvas.width=window.innerWidth;
      confettiCanvas.height=window.innerHeight;
    }
    window.addEventListener("resize",resizeCanvas);
    resizeCanvas();

    function ConfettiPiece(){
      this.x=Math.random()*confettiCanvas.width;
      this.y=Math.random()*confettiCanvas.height-confettiCanvas.height;
      this.r=Math.random()*6+4;
      this.d=Math.random()*Math.PI*2;
      this.color=`hsl(${Math.random()*360},100%,50%)`;
      this.tilt=Math.random()*10-10;
      this.speed=Math.random()*3+2;
      this.tiltAngleIncremental=Math.random()*0.07+0.05;
      this.tiltAngle=0;
    }
    function drawConfetti(){
      ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
      confettiParticles.forEach(p=>{
        ctx.beginPath();
        ctx.lineWidth=p.r;
        ctx.strokeStyle=p.color;
        ctx.moveTo(p.x+p.tilt+p.r/2,p.y);
        ctx.lineTo(p.x+p.tilt,p.y+p.tilt+p.r/2);
        ctx.stroke();
      });
      updateConfetti();
    }
    function updateConfetti(){
      confettiParticles.forEach(p=>{
        p.tiltAngle+=p.tiltAngleIncremental;
        p.y+=p.speed;
        p.x+=Math.sin(p.d);
        p.tilt=Math.sin(p.tiltAngle)*15;
        if(p.y>confettiCanvas.height){
          p.y=0; p.x=Math.random()*confettiCanvas.width;
        }
      });
    }
    function startConfetti(){
      confettiActive=true;
      confettiParticles=[];
      for(let i=0;i<150;i++){confettiParticles.push(new ConfettiPiece());}
      requestAnimationFrame(runConfetti);
    }
    function runConfetti(){
      if(confettiActive){
        drawConfetti();
        requestAnimationFrame(runConfetti);
      }
    }
    function stopConfetti(){
      confettiActive=false;
      ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    }
  </script>
</body>
</html>
